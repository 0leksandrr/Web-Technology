<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triangle Solver</title>
</head>
<body>
<h1>Triangle Solver</h1>
<p>Ця сторінка розв'язує прямокутний трикутник. Відкрийте консоль браузера для перегляду результатів.</p>

<form id="triangleForm">
    <label for="value1">Значення 1:</label>
    <input type="number" id="value1" required><br><br>

    <label for="type1">Тип 1:</label>
    <select id="type1" required>
        <option value="leg">Катет</option>
        <option value="hypotenuse">Гіпотенуза</option>
        <option value="adjacent angle">Прилеглий кут</option>
        <option value="opposite angle">Протилежний кут</option>
        <option value="angle">Гострий кут</option>
    </select><br><br>

    <label for="value2">Значення 2:</label>
    <input type="number" id="value2" required><br><br>

    <label for="type2">Тип 2:</label>
    <select id="type2" required>
        <option value="leg">Катет</option>
        <option value="hypotenuse">Гіпотенуза</option>
        <option value="adjacent angle">Прилеглий кут</option>
        <option value="opposite angle">Протилежний кут</option>
        <option value="angle">Гострий кут</option>
    </select><br><br>

    <button type="button" onclick="solveTriangle()">Розв'язати трикутник</button>
</form>

<script>
    function triangle(value1, type1, value2, type2) {
        console.log("Введіть два значення і їх типи. Доступні типи: leg, hypotenuse, adjacent angle, opposite angle, angle.");

        const DEG_TO_RAD = Math.PI / 180;
        const RAD_TO_DEG = 180 / Math.PI;

        const validTypes = ["leg", "hypotenuse", "adjacent angle", "opposite angle", "angle"];
        if (!validTypes.includes(type1) || !validTypes.includes(type2)) {
            console.log("Помилка: введені некоректні типи. Будь ласка, перечитайте інструкцію.");
            return "failed";
        }

        if (value1 <= 0 || value2 <= 0) {
            console.log("Помилка: значення повинні бути позитивними.");
            return "failed";
        }

        let a, b, c, alpha, beta;

        function solveFromLegAndHypotenuse(leg, hypotenuse) {
            if (leg >= hypotenuse) {
                console.log("Помилка: катет не може бути більший або рівний гіпотенузі.");
                return "failed";
            }
            c = hypotenuse;
            a = leg;
            b = Math.sqrt(c * c - a * a);
            alpha = Math.asin(a / c) * RAD_TO_DEG;
            beta = 90 - alpha;
            return "success";
        }

        function solveFromLegAndAdjacentAngle(leg, angle) {
            if (angle <= 0 || angle >= 90) {
                console.log("Помилка: кут повинен бути гострим.");
                return "failed";
            }
            alpha = angle;
            a = leg;
            c = a / Math.sin(alpha * DEG_TO_RAD);
            b = Math.sqrt(c * c - a * a);
            beta = 90 - alpha;
            return "success";
        }

        function solveFromLegAndOppositeAngle(leg, angle) {
            if (angle <= 0 || angle >= 90) {
                console.log("Помилка: кут повинен бути гострим.");
                return "failed";
            }
            beta = angle;
            b = leg;
            c = b / Math.sin(beta * DEG_TO_RAD);
            a = Math.sqrt(c * c - b * b);
            alpha = 90 - beta;
            return "success";
        }

        function solveFromHypotenuseAndAngle(hypotenuse, angle) {
            if (angle <= 0 || angle >= 90) {
                console.log("Помилка: кут повинен бути гострим.");
                return "failed";
            }
            c = hypotenuse;
            alpha = angle;
            a = c * Math.sin(alpha * DEG_TO_RAD);
            b = Math.sqrt(c * c - a * a);
            beta = 90 - alpha;
            return "success";
        }

        if ((type1 === "leg" && type2 === "hypotenuse") || (type1 === "hypotenuse" && type2 === "leg")) {
            if (type1 === "leg") return solveFromLegAndHypotenuse(value1, value2);
            else return solveFromLegAndHypotenuse(value2, value1);
        }

        if ((type1 === "leg" && type2 === "adjacent angle") || (type1 === "adjacent angle" && type2 === "leg")) {
            if (type1 === "leg") return solveFromLegAndAdjacentAngle(value1, value2);
            else return solveFromLegAndAdjacentAngle(value2, value1);
        }

        if ((type1 === "leg" && type2 === "opposite angle") || (type1 === "opposite angle" && type2 === "leg")) {
            if (type1 === "leg") return solveFromLegAndOppositeAngle(value1, value2);
            else return solveFromLegAndOppositeAngle(value2, value1);
        }

        if ((type1 === "hypotenuse" && type2 === "angle") || (type1 === "angle" && type2 === "hypotenuse")) {
            if (type1 === "hypotenuse") return solveFromHypotenuseAndAngle(value1, value2);
            else return solveFromHypotenuseAndAngle(value2, value1);
        }

        console.log("Помилка: несумісна пара типів. Перечитайте інструкцію.");
        return "failed";
    }

    function solveTriangle() {
        const value1 = parseFloat(document.getElementById('value1').value);
        const type1 = document.getElementById('type1').value;
        const value2 = parseFloat(document.getElementById('value2').value);
        const type2 = document.getElementById('type2').value;

        const result = triangle(value1, type1, value2, type2);
        console.log(result);
    }
</script>
</body>
</html>
